<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Generic Enum Converter for JPA" /><meta property="og:locale" content="en" /><meta name="description" content="Description" /><meta property="og:description" content="Description" /><link rel="canonical" href="/blog/posts/generic_enum_converter_for_jpa/" /><meta property="og:url" content="/blog/posts/generic_enum_converter_for_jpa/" /><meta property="og:site_name" content="AJK Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-01-27T13:04:46-06:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Generic Enum Converter for JPA" /><meta name="twitter:site" content="@ashimjk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-01-20T16:07:38-06:00","datePublished":"2019-01-27T13:04:46-06:00","description":"Description","headline":"Generic Enum Converter for JPA","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/posts/generic_enum_converter_for_jpa/"},"url":"/blog/posts/generic_enum_converter_for_jpa/"}</script><title>Generic Enum Converter for JPA | AJK Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/blog/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/blog/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/blog/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="AJK Blog"><meta name="application-name" content="AJK Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/blog/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/blog/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/blog/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/blog/assets/js/dist/post.min.js"></script> <script defer src="/blog/app.min.js?baseurl=/blog&register=true" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="https://ashimjk.github.io" id="avatar" class="rounded-circle"><img src="/blog/assets/img/profile.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/blog/">AJK Blog</a><p class="site-subtitle fst-italic mb-0">Keep going</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/blog/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/blog/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/blog/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/blog/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/blog/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ashimjk" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/ashimjk" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['ashim.jung.khadka','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/blog/">Home</a> </span> <span>Generic Enum Converter for JPA</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Generic Enum Converter for JPA</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1548615886" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 27, 2019 </time> </span> <span> Updated <time data-ts="1737410858" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 20, 2025 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/ashimjk">Ashim Khadka</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="874 words" > <em>4 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Generic Enum Converter for JPA</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Generic Enum Converter for JPA</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="description"><span class="me-2">Description</span><a href="#description" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In following example, we have define QualityMeasureType enum and used in class using @Enumerated annotation. Here, JPA will convert enum value into string and store it in db and vice-versa.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">enum</span> <span class="nc">QualityMeasureType</span> <span class="o">{</span>
	<span class="no">A</span><span class="o">,</span> <span class="no">B</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Enumerated</span><span class="o">(</span><span class="nc">EnumType</span><span class="o">.</span><span class="na">STRING</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">QualityMeasureType</span> <span class="n">type</span><span class="o">;</span>
</pre></table></code></div></div><p>So, the problem here is if we try to store additional value in db, shown in below example. @Enumerated annotation will not work. Because it will try to store PUBLIC in db. If there is already ‘P’ value in db then it cannot convert it to PUBLIC.</p><p>To support this, we need to add some converter which converts this data into enum and enum into data.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">enum</span> <span class="nc">SavedQmListScope</span> <span class="o">{</span>
	<span class="no">PUBLIC</span><span class="o">(</span><span class="s">"P"</span><span class="o">),</span>
	<span class="no">PRIVATE</span><span class="o">(</span><span class="s">"M"</span><span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Enumerated</span><span class="o">(</span><span class="nc">EnumType</span><span class="o">.</span><span class="na">STRING</span><span class="o">)</span>
<span class="kd">private</span> <span class="nc">SavedQmListScope</span> <span class="n">scope</span><span class="o">;</span>
</pre></table></code></div></div><p>To resolve this issue, there are many ways to do it:</p><ul><li>By using javax.persistence.AttributeConverter interface<li>Define a custom annotation, patch the JPA provider to recognize this annotation</ul><h2 id="problem"><span class="me-2">Problem:</span><a href="#problem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>How to solve above issue for enum which have additional value using JPA/Hibernate? How to make it workable for all type of enum?</p><h2 id="solution-1"><span class="me-2">Solution 1:</span><a href="#solution-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>We can create a custom converter implementing AttibuteConverter. And then inject it into the property field. But there may be a chance that every enum will be having their own converter. So in-order to reduce the process of writing an enum converter class to pure boilerplate. The components of this solution are:</p><ul><li><p><strong>PersistableEnum Interface:</strong> The contract for an enum class that grants access to a String value for each enum constant (also a factory for getting the enum constant for a matching value)</p><li><strong>AbstractEnumConverter Class:</strong> Provides the common code for translating values to/from enum constants<li><strong>Java Enum Classes:</strong> That implement the PersistableEnum interface<li><strong>JPA Converter Classes:</strong> That extend the AbstractEnumConverter class</ul><p>The PersistableEnum interface is simple and contains a static factory method, forValue(), for obtaining enum constants:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PersistableEnum</span> <span class="o">{</span>

    <span class="nc">String</span> <span class="nf">getValue</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="nc">PersistableEnum</span><span class="o">&gt;</span> <span class="no">E</span> <span class="nf">forValue</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">cls</span><span class="o">,</span> <span class="nc">String</span> <span class="n">tok</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="nc">String</span> <span class="n">t</span> <span class="o">=</span> <span class="n">tok</span><span class="o">.</span><span class="na">trim</span><span class="o">().</span><span class="na">toUpperCase</span><span class="o">();</span>
        <span class="k">return</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">cls</span><span class="o">.</span><span class="na">getEnumConstants</span><span class="o">())</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">t</span><span class="o">))</span>
                <span class="o">.</span><span class="na">findFirst</span><span class="o">()</span>
                <span class="o">.</span><span class="na">orElseThrow</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">IllegalArgumentException</span><span class="o">(</span><span class="s">"Unknown value '"</span> <span class="o">+</span>
                        <span class="n">tok</span> <span class="o">+</span> <span class="s">"' for enum "</span> <span class="o">+</span> <span class="n">cls</span><span class="o">.</span><span class="na">getName</span><span class="o">()));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>The AbstractEnumConverter class is a generic class that is also simple. It implements the JPA 2.1 AttributeConverter interface but provides no implementations for its methods (because this class can’t know the concrete types needed for obtaining the appropriate enum constants). Instead, it defines helper methods that the concrete converter classes will chain to:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractEnumConverter</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="nc">PersistableEnum</span><span class="o">&gt;</span>
            <span class="kd">implements</span> <span class="nc">AttributeConverter</span><span class="o">&lt;</span><span class="no">E</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toDatabaseColumn</span><span class="o">(</span><span class="no">E</span> <span class="n">attr</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">attr</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">?</span> <span class="kc">null</span>
                <span class="o">:</span> <span class="n">attr</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="no">E</span> <span class="nf">toEntityAttribute</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">cls</span><span class="o">,</span> <span class="nc">String</span> <span class="n">dbCol</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">dbCol</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">?</span> <span class="kc">null</span>
                <span class="o">:</span> <span class="nc">PersistableEnum</span><span class="o">.</span><span class="na">forValue</span><span class="o">(</span><span class="n">cls</span><span class="o">,</span> <span class="n">dbCol</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>An example of a concrete enum class that could now be persisted to a database with the JPA 2.1 Converter facility is shown below (note that it implements PersistableEnum, and that the value for each enum constant is defined as a private field):</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">enum</span> <span class="nc">SavedQmListScope</span> <span class="kd">implements</span> <span class="nc">PersistableEnum</span> <span class="o">{</span>

    <span class="no">PUBLIC</span><span class="o">(</span><span class="s">"P"</span><span class="o">),</span>
	<span class="no">PRIVATE</span><span class="o">(</span><span class="s">"M"</span><span class="o">);</span>

    <span class="kd">final</span> <span class="nc">String</span> <span class="n">e_value</span><span class="o">;</span>

    <span class="nc">SavedQmListScope</span><span class="o">(</span><span class="nc">String</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">e_value</span> <span class="o">=</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">e_value</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>The boilerplate for every JPA 2.1 Converter class would now look like this (note that every such converter will need to extend AbstractEnumConverter and provide implementations for the methods of the JPA AttributeConverter interface):</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nd">@Converter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SavedQmListScopeConverter</span> <span class="kd">extends</span> <span class="nc">AbstractEnumConverter</span><span class="o">&lt;</span><span class="nc">SavedQmListScope</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">convertToDatabaseColumn</span><span class="o">(</span><span class="nc">SavedQmListScope</span> <span class="n">attribute</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">toDatabaseColumn</span><span class="o">(</span><span class="n">attribute</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">SavedQmListScope</span> <span class="nf">convertToEntityAttribute</span><span class="o">(</span><span class="nc">String</span> <span class="n">dbData</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">toEntityAttribute</span><span class="o">(</span><span class="nc">SavedQmListScope</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">dbData</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="solution-2"><span class="me-2">Solution 2:</span><a href="#solution-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>By extending <strong>Solution 1</strong>, we can enhance its funtionality by making it more generic:</p><p>Interface enum must implement:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PersistableEnum</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="no">T</span> <span class="nf">getValue</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Base abstract converter:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="nd">@Converter</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractEnumConverter</span><span class="o">&lt;</span><span class="no">T</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="nc">PersistableEnum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;,</span> <span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">AttributeConverter</span><span class="o">&lt;</span><span class="no">T</span><span class="o">,</span> <span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">clazz</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">AbstractEnumConverter</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">clazz</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">clazz</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">E</span> <span class="nf">convertToDatabaseColumn</span><span class="o">(</span><span class="no">T</span> <span class="n">attribute</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">attribute</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">attribute</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">T</span> <span class="nf">convertToEntityAttribute</span><span class="o">(</span><span class="no">E</span> <span class="n">dbData</span><span class="o">)</span> <span class="o">{</span>
        <span class="no">T</span><span class="o">[]</span> <span class="n">enums</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getEnumConstants</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="no">T</span> <span class="n">e</span> <span class="o">:</span> <span class="n">enums</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">dbData</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">e</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">throw</span> <span class="k">new</span> <span class="nf">UnsupportedOperationException</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>You must create a converter class for each enum, I find it easier to create static class inside the enum:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">enum</span> <span class="nc">SavedQmListScope</span> <span class="kd">implements</span> <span class="nc">PersistableEnum</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>

	<span class="no">PUBLIC</span><span class="o">(</span><span class="s">"P"</span><span class="o">),</span>
	<span class="no">PRIVATE</span><span class="o">(</span><span class="s">"M"</span><span class="o">);</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">value</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nf">SavedQmListScope</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">=</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Converter</span> <span class="kd">extends</span> <span class="nc">AbstractEnumConverter</span><span class="o">&lt;</span><span class="nc">SavedQmListScope</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="nf">Converter</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">(</span><span class="nc">SavedQmListScope</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>And mapping example with annotation:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">SavedQmList</span> <span class="o">{</span>
	<span class="nd">@Convert</span><span class="o">(</span><span class="n">converter</span> <span class="o">=</span> <span class="nc">SavedQmListScope</span><span class="o">.</span><span class="na">Converter</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">SavedQmListScope</span> <span class="nc">SavedQmListScope</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/blog/categories/technology/">technology</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/blog/tags/jpa/" class="post-tag no-text-decoration" >jpa</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Generic%20Enum%20Converter%20for%20JPA%20-%20AJK%20Blog&url=%2Fblog%2Fposts%2Fgeneric_enum_converter_for_jpa%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Generic%20Enum%20Converter%20for%20JPA%20-%20AJK%20Blog&u=%2Fblog%2Fposts%2Fgeneric_enum_converter_for_jpa%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fblog%2Fposts%2Fgeneric_enum_converter_for_jpa%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/blog/posts/processing-large-datasets/">Processing Large Datasets Efficiently with Spring Boot and JDK</a><li class="text-truncate lh-lg"> <a href="/blog/posts/wait-for-dependencies/">Docker-Compose - Wait for Dependencies</a><li class="text-truncate lh-lg"> <a href="/blog/posts/spring-boot-internals/">Spring Boot - Internals</a><li class="text-truncate lh-lg"> <a href="/blog/posts/spring-boot-test-config-annotation/">Spring Boot - @TestConfiguration</a><li class="text-truncate lh-lg"> <a href="/blog/posts/using-index-in-postgres-oracle/">Using Index in PostgreSQL and Oracle</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/kafka-series/">kafka-series</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/middleware/">middleware</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/spring-boot/">spring-boot</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/istio/">istio</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oracle/">oracle</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/postgres/">postgres</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/development/">development</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/jpa/">jpa</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/spring-validation/">spring-validation,</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/blog/posts/stream_processing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1567577836" data-df="ll" > Sep 4, 2019 </time><h4 class="pt-0 my-2">Stream Processing</h4><div class="text-muted"><p>It isn’t enough to just read, write, and store streams of data, the purpose is to enable real-time processing of streams. In a stream processor is anything that takes continual streams of data fro...</p></div></div></a></article><article class="col"> <a href="/blog/posts/data_pipeline/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1565462448" data-df="ll" > Aug 10, 2019 </time><h4 class="pt-0 my-2">Data Pipelines</h4><div class="text-muted"><p>Concern regarding building a data processing system multiple layered system volume of data result are not needed to be sent back to client immediately event processing pipeline Main Mes...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"><div class="btn btn-outline-primary disabled" aria-label="Older"><p>-</p></div><a href="/blog/posts/data_pipeline/" class="btn btn-outline-primary" aria-label="Newer" ><p>Data Pipelines</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/ashimjk">Ashim Khadka</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/blog/tags/kafka-series/">kafka-series</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/middleware/">middleware</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/spring-boot/">spring-boot</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/istio/">istio</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/oracle/">oracle</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/postgres/">postgres</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/development/">development</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/jpa/">jpa</a> <a class="post-tag btn btn-outline-primary" href="/blog/tags/spring-validation/">spring-validation,</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/blog/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
